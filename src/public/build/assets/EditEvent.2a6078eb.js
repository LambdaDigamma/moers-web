import{L as g}from"./LayoutAdmin.6247fdfd.js";import d from"./EventForm.088d0f8c.js";import{L as c}from"./LanguagePicker.76a32c9f.js";import{_ as u}from"./_plugin-vue_export-helper.cdc0426e.js";import{r as o,o as m,c as h,a as i,b as s}from"./app.b7fec2ed.js";import"./index.8d7c2476.js";import"./FlashMessages.dcc7afcb.js";import"./WhiteButton.841b0550.js";/* empty css            */const p={name:"EditEvent",components:{LanguagePicker:c,EventForm:d},layout:g,props:{event:Object,organisation:Object,entries:Array,lang:String,page:{type:Object,default(){return{blocks:[]}}}},remember:"form",data(){return{languageCode:this.lang,sending:!1,form:null}},methods:{fileChanged(e){console.log(e),console.log("New picture selected!"),e?(console.log("Picture loaded."),this.form.header_image=e):console.log("FileReader API not supported: use the , Luke!")},changed(e){this.form=e},submit(e){e.append("_method","put"),this.$inertia.post(this.route("admin.organisations.events.update",[this.organisation.id,this.event.id,this.languageCode]),e,{onSuccess:()=>{this.sending=!1}})},languageChanged(e){this.languageCode=e,this.$inertia.visit(this.route("admin.organisations.events.edit",[this.organisation.id,this.event.id,e]),{method:"get",data:{},preserveState:!1,preserveScroll:!0,only:[]})},submitPage(e){let n={blocks:e};this.page!==null&&(n=this.page,n.blocks=e),this.$inertia.put(this.route("admin.organisations.events.page.update",[this.organisation.id,this.event.id,this.lang]),n,{replace:!1,preserveState:!1,preserveScroll:!0,only:[]})}}},f={class:"pb-32"},v={class:"flex flex-col justify-between md:flex-row"},_=i("div",null,[i("h3",{class:"text-3xl font-bold text-gray-900"}," Veranstaltung bearbeiten "),i("p",{class:"text-gray-600"}," Bearbeite die Veranstaltung f\xFCr diese Organisation. ")],-1);function b(e,n,t,C,x,a){const r=o("LanguagePicker"),l=o("EventForm");return m(),h("div",f,[i("div",v,[_,s(r,{languageCode:t.lang,class:"mt-4 md:mt-0",onChange:a.languageChanged},null,8,["languageCode","onChange"])]),s(l,{languageCode:t.lang,organisation:t.organisation,entries:t.entries,event:t.event,"initial-page":t.page,onChanged:a.changed,onSubmit:a.submit,onPageChange:a.submitPage},null,8,["languageCode","organisation","entries","event","initial-page","onChanged","onSubmit","onPageChange"])])}const O=u(p,[["render",b]]);export{O as default};
