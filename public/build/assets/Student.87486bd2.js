import{L as x}from"./LayoutGeneral.fed481bd.js";import{T as v}from"./TextInput.6306c59e.js";import{T as _}from"./TextareaInput.32027635.js";import{_ as w}from"./plugin-vue_export-helper.21dcd24c.js";import{o as a,g as d,y as g,p as V,i as t,t as y,n as I,j as c,z as B,l as n,m as U}from"./vendor.f0c292e1.js";import{P as j}from"./PrimaryButton.f20f1985.js";import"./index.2ffd3439.js";import"./FlashMessages.2c37d88d.js";import"./MenuGeneralMobile.dc6a60a3.js";import"./Icon.f7a0e22a.js";import"./vue-cookie-law.d1ee2f37.js";const M={props:{value:File,label:String,accept:String,errors:{type:Array,default:()=>[]}},watch:{value(s){s||(this.$refs.file.value="")}},methods:{filesize(s){var e=Math.floor(Math.log(s)/Math.log(1024));return(s/Math.pow(1024,e)).toFixed(2)*1+" "+["B","kB","MB","GB","TB"][e]},browse(){this.$refs.file.click()},change(s){this.$emit("input",s.target.files[0])},remove(){this.$emit("input",null)}}},S={key:0,class:"block mb-2 text-sm font-semibold dark:text-white"},T=["accept"],A={key:0,class:"p-2"},F={key:1,class:"flex items-center justify-between p-2 dark:text-white"},L={class:"flex-1 pr-1"},N={class:"text-xs"},C={key:1,class:"form-error"};function z(s,e,i,p,o,m){return a(),d("div",null,[i.label?(a(),d("label",S,g(i.label)+": ",1)):V("",!0),t("div",{class:I(["p-0 form-input dark:bg-gray-600",{error:i.errors.length}])},[t("input",{ref:"file",type:"file",accept:i.accept,class:"hidden",onChange:e[0]||(e[0]=(...r)=>m.change&&m.change(...r))},null,40,T),i.value?(a(),d("div",F,[t("div",L,[y(g(i.value.name)+" ",1),t("span",N,"("+g(m.filesize(i.value.size))+")",1)]),t("button",{type:"button",class:"px-4 py-1 text-xs font-medium rounded-sm dark:text-white dark:bg-red-600",onClick:e[2]||(e[2]=(...r)=>m.remove&&m.remove(...r))}," Entfernen ")])):(a(),d("div",A,[t("button",{type:"button",class:"px-4 py-1 text-xs font-medium rounded-sm dark:text-white dark:bg-gray-800",onClick:e[1]||(e[1]=(...r)=>m.browse&&m.browse(...r))}," Durchsuchen ")]))],2),i.errors.length?(a(),d("div",C,g(i.errors[0]),1)):V("",!0)])}var G=w(M,[["render",z]]);const P={name:"Student",components:{PrimaryButton:j,FileInput:G,TextareaInput:_,TextInput:v},layout:x,props:{existingInformation:{type:Object,required:!1}},data(){var s,e,i,p,o,m,r,f,u,h,l,k,b;return{sending:!1,form:{name:((s=this.existingInformation)==null?void 0:s.name)||null,nickname:((e=this.existingInformation)==null?void 0:e.nickname)||null,birthday:((i=this.existingInformation)==null?void 0:i.birthday)||null,slogan:((p=this.existingInformation)==null?void 0:p.slogan)||null,motto:((o=this.existingInformation)==null?void 0:o.motto)||null,strengths:((m=this.existingInformation)==null?void 0:m.strengths)||null,weaknesses:((r=this.existingInformation)==null?void 0:r.weaknesses)||null,lkA:((f=this.existingInformation)==null?void 0:f.lkA)||null,lkB:((u=this.existingInformation)==null?void 0:u.lkB)||null,highlight:((h=this.existingInformation)==null?void 0:h.highlight)||null,soundtrack:((l=this.existingInformation)==null?void 0:l.soundtrack)||null,miss_least:((k=this.existingInformation)==null?void 0:k.miss_least)||null,miss_most:((b=this.existingInformation)==null?void 0:b.miss_most)||null,photo_old:null,photo_new:null}}},methods:{submit(){this.sending=!0;var s=new FormData;s.append("name",this.form.name||""),s.append("nickname",this.form.nickname||""),s.append("birthday",this.form.birthday||""),s.append("slogan",this.form.slogan||""),s.append("motto",this.form.motto||""),s.append("strengths",this.form.strengths||""),s.append("weaknesses",this.form.weaknesses||""),s.append("lkA",this.form.lkA||""),s.append("lkB",this.form.lkB||""),s.append("highlight",this.form.highlight||""),s.append("soundtrack",this.form.soundtrack||""),s.append("miss_least",this.form.miss_least||""),s.append("miss_most",this.form.miss_most||""),s.append("photo_old",this.form.photo_old||""),s.append("photo_new",this.form.photo_new||""),this.$inertia.post(this.route("forms.student.save"),s,{onSuccess:()=>{this.sending=!1}})}}},Z={class:"pb-48"},D={class:"md:grid md:grid-cols-3 md:gap-6"},K=t("div",{class:"md:col-span-1"},[t("div",{class:"px-4 sm:px-0"},[t("h3",{class:"text-lg font-medium leading-6 text-gray-900"}," Steckbrief Abizeitung "),t("p",{class:"mt-1 text-sm leading-5 text-gray-500"})])],-1),E={class:"mt-5 md:mt-0 md:col-span-2"},W={class:"shadow sm:rounded-md sm:overflow-hidden"},q={class:"px-4 py-5 bg-white sm:p-6"},J={class:"px-4 py-3 text-right bg-gray-50 sm:px-6"},O=y(" Speichern ");function R(s,e,i,p,o,m){const r=c("TextInput"),f=c("TextareaInput"),u=c("FileInput"),h=c("PrimaryButton");return a(),d("div",Z,[t("div",D,[K,t("div",E,[t("form",{onSubmit:e[15]||(e[15]=B((...l)=>m.submit&&m.submit(...l),["prevent"]))},[t("div",W,[t("div",q,[n(r,{modelValue:o.form.name,"onUpdate:modelValue":e[0]||(e[0]=l=>o.form.name=l),label:"Name",class:"w-full",errors:s.$page.errors.name},null,8,["modelValue","errors"]),n(r,{modelValue:o.form.nickname,"onUpdate:modelValue":e[1]||(e[1]=l=>o.form.nickname=l),label:"a.k.a.",class:"w-full mt-2",errors:s.$page.errors.nickname},null,8,["modelValue","errors"]),n(r,{modelValue:o.form.birthday,"onUpdate:modelValue":e[2]||(e[2]=l=>o.form.birthday=l),label:"Geburtsdatum (dd.MM.yyyy)",class:"w-full mt-2",errors:s.$page.errors.birthday},null,8,["modelValue","errors"]),n(r,{modelValue:o.form.slogan,"onUpdate:modelValue":e[3]||(e[3]=l=>o.form.slogan=l),label:"Meine Redewendung (100 Zeichen)",class:"w-full mt-2",errors:s.$page.errors.slogan},null,8,["modelValue","errors"]),n(r,{modelValue:o.form.motto,"onUpdate:modelValue":e[4]||(e[4]=l=>o.form.motto=l),label:"Lebensmotto (100 Zeichen)",class:"w-full mt-2",errors:s.$page.errors.motto},null,8,["modelValue","errors"]),n(r,{modelValue:o.form.strengths,"onUpdate:modelValue":e[5]||(e[5]=l=>o.form.strengths=l),label:"St\xE4rken (100 Zeichen)",class:"w-full mt-2",errors:s.$page.errors.strengths},null,8,["modelValue","errors"]),n(r,{modelValue:o.form.weaknesses,"onUpdate:modelValue":e[6]||(e[6]=l=>o.form.weaknesses=l),label:"Schw\xE4chen (100 Zeichen)",class:"w-full mt-2",errors:s.$page.errors.weaknesses},null,8,["modelValue","errors"]),n(r,{modelValue:o.form.lkA,"onUpdate:modelValue":e[7]||(e[7]=l=>o.form.lkA=l),label:"LK A (Fach + Nachname Lehrer)",class:"w-full mt-2",errors:s.$page.errors.lkA},null,8,["modelValue","errors"]),n(r,{modelValue:o.form.lkB,"onUpdate:modelValue":e[8]||(e[8]=l=>o.form.lkB=l),class:"w-full mt-2",label:"LK B (Fach + Nachname Lehrer)",errors:s.$page.errors.lkB},null,8,["modelValue","errors"]),n(f,{modelValue:o.form.highlight,"onUpdate:modelValue":e[9]||(e[9]=l=>o.form.highlight=l),class:"w-full mt-2",label:"Mein Schulhighlight (400 Zeichen)",errors:s.$page.errors.highlight},null,8,["modelValue","errors"]),n(r,{modelValue:o.form.soundtrack,"onUpdate:modelValue":e[10]||(e[10]=l=>o.form.soundtrack=l),class:"w-full mt-2",label:"Soundtrack des Lebens",errors:s.$page.errors.soundtrack},null,8,["modelValue","errors"]),n(r,{modelValue:o.form.miss_least,"onUpdate:modelValue":e[11]||(e[11]=l=>o.form.miss_least=l),class:"w-full mt-2",label:"Was werde ich am wenigsten vermissen",errors:s.$page.errors.miss_least},null,8,["modelValue","errors"]),n(r,{modelValue:o.form.miss_most,"onUpdate:modelValue":e[12]||(e[12]=l=>o.form.miss_most=l),class:"w-full mt-2",label:"Was werde ich am meisten vermissen",errors:s.$page.errors.miss_most},null,8,["modelValue","errors"]),n(u,{modelValue:o.form.photo_old,"onUpdate:modelValue":e[13]||(e[13]=l=>o.form.photo_old=l),label:"Neues Bild (Kindheit) hochladen",errors:s.$page.errors.photo_old,class:"w-full mt-2",type:"file",accept:"image/*"},null,8,["modelValue","errors"]),n(u,{modelValue:o.form.photo_new,"onUpdate:modelValue":e[14]||(e[14]=l=>o.form.photo_new=l),label:"Neues Bild (Jetzt) hochladen",errors:s.$page.errors.photo_new,class:"w-full mt-2",type:"file",accept:"image/*"},null,8,["modelValue","errors"])]),t("div",J,[n(h,{type:"submit"},{default:U(()=>[O]),_:1})])])],32)])])])}var ne=w(P,[["render",R]]);export{ne as default};
