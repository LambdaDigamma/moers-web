import{L as K}from"./LayoutAdmin.31644492.js";import{L as B}from"./LoadingButton.e5474c74.js";import{o as l,g as s,y as h,p as f,w as N,O as H,i as t,s as T,J as V,n as P,j as m,l as d,m as g,z as c,F as S,A as y,t as M}from"./vendor.f8bd942e.js";import{_ as w}from"./plugin-vue_export-helper.21dcd24c.js";import{H as z}from"./Header.f89bdad2.js";import{T as C}from"./TextInput.c7b324bf.js";import{N as D}from"./NumberInput.5448415a.js";import"./index.7332c671.js";import"./FlashMessages.fa6a8e36.js";const J={name:"SelectInput",props:{id:{type:String,default(){return`select-input-${this._uid}`}},value:[String,Number,Boolean],label:{type:String,required:!1},disabled:{type:Boolean,default:!1},value:[String,Number,Boolean]},data(){return{selected:this.value}},watch:{selected(n){this.$emit("input",n)}},methods:{focus(){this.$refs.input.focus()},select(){this.$refs.input.select()}}},F=["for"],E=["id","disabled"];function I(n,r,o,x,a,i){return l(),s("div",{class:P({"opacity-50":o.disabled})},[o.label?(l(),s("label",{key:0,for:o.id,class:"block text-sm font-medium leading-5 text-gray-700"},h(o.label),9,F)):f("",!0),N(t("select",V({id:o.id,ref:"input","onUpdate:modelValue":r[0]||(r[0]=p=>a.selected=p)},n.$attrs,{disabled:o.disabled,class:"block w-full px-3 py-0 py-2 mt-1 transition duration-150 ease-in-out bg-white border border-gray-300 rounded-md shadow-sm form-select focus:outline-none focus:ring-blue focus:border-blue-300 sm:text-sm sm:leading-5"}),[T(n.$slots,"default")],16,E),[[H,a.selected]])],2)}var R=w(J,[["render",I]]);const W={name:"Create",components:{Header:z,LoadingButton:B,SelectInput:R,TextInput:C,NumberInput:D},props:{groups:Array},layout:K,remember:"form",data(){return{sending:!1,form:{question:null,description:null,group_id:null,max_check:1,options:["",""]},students:["Erik P\xF6sken","Joud Kabbani","Vivienne Essig","Jele Thyen","Tatiana Maniecki","Marian Hauck","Fabian Jendral","Janik Berger","Melina Stecher","Nadia Nickel","Cindy Agbor","Philipp Lassig","Konstantin Postel","Laureen Ramburger","Peter V\xF6lker","Phillip Reis","Noel Morawiec","Suzan Abu Zanat","Farina Adler","Anastasia Balles","Til Scholz","Jasper Sitte","Samet Terporten","Julia Weber","Lena Ziegenfu\xDF","Mert Aykan","Emily Becker","Steen B\xFCtow","Henrik Dawel","Philipp Domagala","Carlotta Genkel","\xD6zge G\xFCnes","Mona Hamid","Veit Bils","Angelina Bramtchiyska","Gregor Branscheid","Natascha Br\xFCggemann","Celina Carboni","Philipp Erbsl\xF6h","Tim Erlacher","Zoe Graumann","Mert Halavurt","Aaron Jordans","Lilli Koch","Danel Kolu","Hannah Kambartel","Baris Kaya","Niklas Klag","Ayleen Kohlmann","Felix Krahl","Amelie L\xF6hndorf","Simon Prill","Yannik Prill","Hannes Rentel","Henning R\xFCtten","Minel Savas","Liv Schwarzer","Nikolai Sieglitz","Ole Stifft","Paula Weyen","Ines Marten","Franziska Milbrandt","Miriam Victoria Richter","Finn Spitzer","Jarne Wei\xDF","Michel S\xF6te","Niklas Wuttke","Leon Urbanowski","Maite K\xF6ssl","Sophia Lange","Berit Warkall","Frederik Reiff","Jil Willemsen","Marie Harra\xDF","Lucie He\xDFe","Mats H\xFCsing","Simon J\xE4schke","Jonathan Kaiser","David Leonhards","Tim Pesch","Hannah Reichert","Isis Rittinghaus","Gideon Schmitz","Paula Skorwider","Hannah Ventzke","Kendra Weyers","Judith Wiegelmann","Jennifer Buckesfeld","Melek Chabchoul","Alexander Eurich","Anabel Falkenburg","Christian Hellwig","Tobias Indetzki","Ubeyd Kilic","Paul Klose","Simon Krenz","Elias Merten","Johanna M\xFCnker","Lea Noreiks","Elisa Pickardt","Tolga Mede","Lea Mielchen","Ren\xE9 Ohm","Nick Oppen","Karim Sawalha","Mathis Schoonhoven","Lou Schulz","Cenk Atalay","Emilia Bozkurt","Antonia Foit","Tobias Gro\xDFmann","Timon Helmich","Marie Winkelmann","Nele Wolf","Alexander B\xFCrgel","Niklas Engels","Lennart Fischer","Nathalie Fischer","Matthias Giesen","Paul Hagelgans","David Hamm","Daniel Heinbichner","Lenia H\xFCsgen","Johanna Jaschko","Jenna Kellerhoff","Sabrina Kragt","Mats Lammert","Jan Mattis Lipka"],teachers:["Katharina Adams","Anna Benjamins","Franziska Bietenbeck","Alina Binder","Lucas Bollhorst","Marcel Buchm\xFCller","Lisa Busch","Annika Chung","Aylin Coskun","Aileen Dawid","Anna-Lena Demmer","Matthias Dierks","Alexandra Dietz","Dr. Kai Dinkelmann","Verena Ehlert","Christina Evers","Marita Fiedler","Lina Fie\xDFer","Nikolai Fischer","Heinz-Joachim Franken","Thomas Frings","Charlene Gehlen","Carolin Genneper","Katharina Grade","Dr. Babett G\xF6tz","Julia Haustein","Miriam Hecht","Lars Heining","Daniel Heisig-Pitzen","Sandra Hennemann","Tim Herrmann","Jens He\xDFe","Lena Kahlert","Johanna Kewitz","Ernst Kisters","Thorsten Klag","Andrea Klein","Dr. Evelyn Kleine","Rolf Kl\xFCmper","Nils Koopmann","Thomas Kozianka","Ulrike Krakow","J\xF6rg Krauskopf","Peter Kuster","Udo K\xFCppers","Maren K\xF6nig","Andreas Lind","Dinah Lindemann","Peter L\xF6cher","Stephanie Marciniak","Dina Mecklenburg","Sebastian Mecklenburg","Tatjana Meier","J\xF6rg Meschend\xF6rfer","Regine Meyering","Miriam Milde-Sistig","Denise Monreal","Anna M\xFCller","Lisa Neumann","Sven Neumann","Michael Neunzig","Alexander Niemeier","Philipp Niersmans","Fanny Ollivier","Tobias Packenius","Marco Petering","Isabelle Petrovic","Cordelia Rahrbach-Sander","Eva-Maria Redeker","Barbara Reiss","Dr. Andr\xE9 Remy","Bastian Rennert","Nicole Romberg","Simone Ruppik","Mareike Samp","Martin Schattenberg","Daniel Schirra","Yihu Schlossarek","Anja Schl\xFCter","Ursula Schrader","Sandra Schr\xF6er","Patrick Schubert","Nicole Sch\xFCttauf","Dr. Wolfgang Sch\xE4fer","Nicole Skorwider","Anika Sokolowski","Annette Sommer","Hans van Stephoudt","Simon Stockamp","Maja Stolte","Anne St\xFChrenberg","Stephanie Tenbusch","Sven Tenhaven","Karsten Verhoeven","Maria Vollendorf-L\xF6cher","Sarah Vo\xDF","Ulrich Vo\xDF","Peter Wans","Christopher Lee Watkins","Tom Weber","Burcu Wiemers","Elisabeth Willems"]}},computed:{canDelete(){return this.form.options.length>2},isSubmitEnabled(){if(this.form.question===null||this.form.question===""||this.form.description===null||this.form.description===""||this.form.group_id===null||this.form.max_check<1||this.form.max_check>=this.form.options.length)return!1;for(let n=0;n<this.form.options.length;n++)if(this.form.options[n]==="")return!1;return!0}},methods:{submit(){this.sending=!0,this.$inertia.post(this.route("admin.polls.store"),this.form,{onSuccess:()=>{this.sending=!1}})},addPollOption(){this.form.options.push("")},deletePollOption(n){this.form.options.splice(n,1)},addTeacherOptions(){this.form.options=this.teachers},addStudentOptions(){this.form.options=this.students}}},O=M(" Erstellen "),j={class:"max-w-4xl bg-white rounded shadow dark:bg-gray-700"},U={class:"flex flex-wrap p-6"},G=["value"],q={class:"w-full mt-3"},Z=t("span",{class:"font-semibold dark:text-white"},"Antwortm\xF6glichkeiten:",-1),Y=["onClick"],Q={key:0,class:"font-medium dark:text-red-600"},X={class:"mt-3"},$={class:"flex items-center px-6 py-3 bg-gray-700 border-t rounded-b-lg border-grey-500 dark:border-gray-600"},ee=M(" Abstimmung erstellen ");function ne(n,r,o,x,a,i){const p=m("Header"),b=m("TextInput"),v=m("TextareaInput"),A=m("SelectInput"),_=m("NumberInput"),L=m("LoadingButton");return l(),s("div",null,[d(p,{href:n.route("admin.polls.index"),previousTitle:"Abstimmungen",class:"mb-8"},{default:g(()=>[O]),_:1},8,["href"]),t("div",j,[t("form",{onSubmit:r[7]||(r[7]=c((...e)=>i.submit&&i.submit(...e),["prevent"]))},[t("div",U,[d(b,{modelValue:a.form.question,"onUpdate:modelValue":r[0]||(r[0]=e=>a.form.question=e),label:"Frage",class:"w-full",errors:n.$page.errors.question},null,8,["modelValue","errors"]),d(v,{modelValue:a.form.description,"onUpdate:modelValue":r[1]||(r[1]=e=>a.form.description=e),label:"Beschreibung",class:"w-full mt-3",errors:n.$page.errors.description},null,8,["modelValue","errors"]),d(A,{modelValue:a.form.group_id,"onUpdate:modelValue":r[2]||(r[2]=e=>a.form.group_id=e),class:"w-full mt-3",label:"Gruppe",errors:n.$page.errors.group_id},{default:g(()=>[(l(!0),s(S,null,y(this.groups,e=>(l(),s("option",{value:e.id,key:e.id},h(e.organisation.name)+" \u2022 "+h(e.name),9,G))),128))]),_:1},8,["modelValue","errors"]),d(_,{modelValue:a.form.max_check,"onUpdate:modelValue":r[3]||(r[3]=e=>a.form.max_check=e),label:"Anzahl der ausw\xE4hlbaren Antworten",class:"w-full mt-3",min:1,errors:n.$page.errors.max_check},null,8,["modelValue","errors"]),t("div",q,[Z,(l(!0),s(S,null,y(a.form.options,(e,u)=>(l(),s("div",{key:u,class:"flex items-stretch w-full p-2 mt-2 rounded dark:bg-gray-800"},[d(b,{placeholder:"Titel der Antwortm\xF6glichkeit eingeben.",modelValue:a.form.options[u],"onUpdate:modelValue":k=>a.form.options[u]=k,class:"flex-grow-1"},null,8,["modelValue","onUpdate:modelValue"]),i.canDelete?(l(),s("button",{key:0,class:"flex-grow-0 px-2 py-1 ml-2 text-sm font-semibold rounded dark:bg-red-600 dark:text-white",onClick:k=>i.deletePollOption(u)}," L\xF6schen ",8,Y)):f("",!0)]))),128)),n.$page.errors.options?(l(),s("span",Q,h(n.$page.errors.options[0]),1)):f("",!0),t("button",{onClick:r[4]||(r[4]=c((...e)=>i.addPollOption&&i.addPollOption(...e),["prevent"])),class:"px-3 py-2 mt-3 ml-1 text-base font-semibold rounded flex-grow-1 flex-md-grow-0 md:ml-0 dark:bg-yellow-500 dark:text-gray-800"}," Weitere Antwortm\xF6glichkeit hinzuf\xFCgen "),t("div",X,[t("button",{onClick:r[5]||(r[5]=c((...e)=>i.addStudentOptions&&i.addStudentOptions(...e),["prevent"])),class:"px-3 py-2 mt-3 ml-1 text-base font-semibold rounded md:ml-0 dark:bg-yellow-500 dark:text-gray-800"}," Sch\xFCler einf\xFCgen "),t("button",{onClick:r[6]||(r[6]=c((...e)=>i.addTeacherOptions&&i.addTeacherOptions(...e),["prevent"])),class:"px-3 py-2 mt-3 ml-1 text-base font-semibold rounded md:ml-0 dark:bg-yellow-500 dark:text-gray-800"}," Lehrer einf\xFCgen ")])])]),t("div",$,[d(L,{class:"px-3 py-2 text-base font-semibold rounded-lg dark:bg-green-600 dark:text-white",type:"submit",disabled:!i.isSubmitEnabled||n.$page.errors===null,loading:a.sending},{default:g(()=>[ee]),_:1},8,["disabled","loading"])])],32)])])}var ue=w(W,[["render",ne]]);export{ue as default};
